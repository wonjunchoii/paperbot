{% if papers %}
{% for paper in papers %}
<div class="paper-item p-4 border-b hover:bg-blue-50/50 cursor-pointer transition-all relative group"
     hx-get="/papers/{{ paper.id }}" 
     hx-target="#detail-view"
     hx-swap="innerHTML">
    <div class="flex items-start gap-3">
        <!-- Pick Checkbox -->
        <div class="pt-1" onclick="event.stopPropagation()">
            <input type="checkbox" 
                   class="w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer" 
                   hx-post="/actions/pick/{{ paper.id }}"
                   hx-swap="outerHTML"
                   hx-trigger="click"
                   {% if paper.is_picked %}checked{% endif %}>
        </div>
        
        <!-- Paper Info -->
        <div class="flex-1 min-w-0">
            <h3 class="paper-title font-medium text-slate-800 leading-snug line-clamp-2 text-sm mb-1.5 transition-colors">
                {{ paper.title }}
            </h3>
            
            <div class="flex flex-wrap items-center gap-2 text-xs">
                {% if paper.journal %}
                <span class="bg-slate-100 text-slate-600 px-2 py-0.5 rounded font-medium truncate max-w-[150px]" title="{{ paper.journal }}">
                    {{ paper.journal }}
                </span>
                {% endif %}
                
                {% if paper.published %}
                <span class="text-slate-400">{{ paper.published }}</span>
                {% endif %}
                
                {% if paper.is_picked %}
                <span class="bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded text-[10px] font-bold">PICKED</span>
                {% endif %}
                
                {% if paper.status == 'read' %}
                <span class="bg-green-100 text-green-700 px-1.5 py-0.5 rounded text-[10px] font-bold">READ</span>
                {% endif %}
            </div>
            
            {% if paper.authors %}
            <p class="text-xs text-slate-400 mt-1 truncate" title="{{ paper.authors }}">
                {{ paper.authors[:80] }}{% if paper.authors|length > 80 %}...{% endif %}
            </p>
            {% endif %}
        </div>
        
        <!-- DOI Link -->
        {% if paper.doi %}
        <a href="https://doi.org/{{ paper.doi }}" 
           target="_blank" 
           rel="noopener noreferrer"
           onclick="event.stopPropagation()"
           class="opacity-0 group-hover:opacity-100 transition-opacity p-1.5 hover:bg-blue-100 rounded text-blue-500"
           title="DOI 링크 열기">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
            </svg>
        </a>
        {% endif %}
    </div>
</div>
{% endfor %}
{% else %}
<div class="p-8 text-center text-slate-400">
    <svg class="w-12 h-12 mx-auto mb-3 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
    </svg>
    <p class="text-sm">{{ empty_message }}</p>
</div>
{% endif %}
